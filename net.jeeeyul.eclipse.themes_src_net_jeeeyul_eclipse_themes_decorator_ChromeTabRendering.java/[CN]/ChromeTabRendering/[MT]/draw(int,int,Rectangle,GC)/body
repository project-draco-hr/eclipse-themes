{
  CSSClasses tags=CSSClasses.getStyleClasses(tabFolder);
  boolean hasEmptyClass=tags.contains("empty");
  boolean haveToSetEmpty=tabFolder.getItemCount() == 0;
  if (hasEmptyClass != haveToSetEmpty) {
    updateTags.schedule();
  }
  if (part == PART_BODY && !tags.contains("chrome-tabfolder-preview")) {
    if (tabFolder.getItemCount() == 0) {
      tabFolder.setTabHeight(23);
    }
 else     if (tags.contains("active")) {
      tabFolder.setTabHeight(-1);
    }
 else {
      preference.getInactiveDecorator().apply(tabFolder);
      tabFolder.setTabHeight(-1);
    }
  }
  super.draw(part,state,bounds,gc);
}
