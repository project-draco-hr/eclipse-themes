{
  radius=Math.max(radius,2);
  shadowRadius=Math.max(shadowRadius,2);
  Rectangle shadow=new Rectangle(0,0,radius * 3 + shadowRadius * 2,radius * 3 + shadowRadius * 2);
  Rectangle shadowShape=SWTExtensions.INSTANCE.getShrinked(shadow,shadowRadius);
  ImageData shadowData=generate(shadow.width,shadow.height,background,shadowShape,radius,foreground,shadowRadius);
  Image image=new Image(Display.getDefault(),shadowData);
  NinePatch patch=new NinePatch(image,SWTExtensions.INSTANCE.getShrinked(shadowShape,radius));
  return patch;
}
