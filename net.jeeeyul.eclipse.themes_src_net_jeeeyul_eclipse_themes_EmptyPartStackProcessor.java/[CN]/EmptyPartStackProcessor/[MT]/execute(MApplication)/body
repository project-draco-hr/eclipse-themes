{
  Debug.println("Empty Part Stack Processor is started");
  broker.subscribe(UIEvents.UIElement.TOPIC_WIDGET,new EventHandler(){
    @Override public void handleEvent(    Event event){
      if (!UIEvents.isSET(event)) {
        return;
      }
      Object e=event.getProperty("ChangedElement");
      if (e instanceof MPartStack) {
        MPartStack ps=(MPartStack)e;
        if (ps.getChildren().size() == 0) {
          if (!ps.getTags().contains("empty")) {
            ps.getTags().add("empty");
          }
        }
      }
    }
  }
);
  broker.subscribe(ElementContainer.TOPIC_CHILDREN,new EventHandler(){
    @Override public void handleEvent(    Event event){
      Object parent=event.getProperty("ChangedElement");
      if (parent instanceof MPartStack) {
        MPartStack stack=(MPartStack)parent;
        Widget widget=(Widget)stack.getWidget();
        CSSClasses styleClasses=CSSClasses.getStyleClasses(widget);
        if (stack.getChildren().size() == 0) {
          stack.getTags().add("empty");
          styleClasses.add("empty");
          engine.setClassname(widget,styleClasses.toString());
        }
 else {
          stack.getTags().remove("empty");
          styleClasses.remove("empty");
          engine.setClassname(widget,styleClasses.toString());
        }
      }
    }
  }
);
}
