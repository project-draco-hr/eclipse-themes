{
  CSSClasses oldClasses=CSSClasses.getStyleClasses(tabFolder);
  boolean hasEmptyClass=oldClasses.contains("empty");
  boolean haveToSetEmpty=tabFolder.getItemCount() == 0;
  if (hasEmptyClass != haveToSetEmpty) {
    updateClassesJob.schedule();
  }
  if (part == PART_BACKGROUND) {
    ChromeThemePreference pref=ChromeThemePreference.getINSTANCE();
    if (oldClasses.contains("active")) {
      pref.getActiveGradient().apply(tabFolder);
    }
 else {
      pref.getInactiveGradient().apply(tabFolder);
    }
  }
  super.draw(part,state,bounds,gc);
}
