{
  ByteArrayOutputStream buffer=new ByteArrayOutputStream();
  byte buf[]=new byte[512];
  int len=-1;
  while ((len=stream.read(buf)) != -1) {
    buffer.write(buf,0,len);
  }
  stream.close();
  buffer.close();
  String result=new String(buffer.toByteArray(),encoding);
  return result;
}
