{
  final ArrayList<IProject> result=new ArrayList<IProject>();
  try {
    IProject featureProject=getFeatureProject();
    IFile featureXMLFile=featureProject.getFile("feature.xml");
    SAXParser parser=SAXParserFactory.newInstance().newSAXParser();
    DefaultHandler handler=new DefaultHandler(){
      @Override public void startElement(      String uri,      String localName,      String qName,      Attributes attributes) throws SAXException {
        if ("plugin".equals(qName)) {
          String id=attributes.getValue("id");
          IProject eachProject=ResourcesPlugin.getWorkspace().getRoot().getProject(id);
          if (!eachProject.exists()) {
            throw new BuildException(MessageFormat.format("???????? {0}?? ?????????? ???? ??????????. ???????? ???????? ???????? ???? ?????? ?????? ??????????.",id));
          }
          result.add(eachProject);
        }
      }
    }
;
    parser.parse(featureXMLFile.getContents(),handler);
  }
 catch (  Exception e) {
    throw new BuildException(e.getMessage(),e);
  }
  return result;
}
