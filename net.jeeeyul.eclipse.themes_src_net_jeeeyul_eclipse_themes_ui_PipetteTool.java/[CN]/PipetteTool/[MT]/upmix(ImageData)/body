{
  if (imageData.palette.redMask == 0xff0000 && imageData.palette.greenMask == 0xff00) {
    return imageData;
  }
  PaletteData paletteData=new PaletteData(0xff0000,0xff00,0xff);
  ImageData result=new ImageData(imageData.width,imageData.height,32,paletteData);
  for (int x=0; x < imageData.width; x++) {
    for (int y=0; y < imageData.height; y++) {
      RGB rgb=imageData.palette.getRGB(imageData.getPixel(x,y));
      result.setPixel(x,y,paletteData.getPixel(rgb));
      result.setAlpha(x,y,imageData.getAlpha(x,y));
    }
  }
  return result;
}
